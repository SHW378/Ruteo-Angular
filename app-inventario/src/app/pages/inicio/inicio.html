<!-- 1. CARRUSEL DE IMÁGENES -->
<!-- Clase 'full-width-carousel' para manejar estilos -->
<div id="mainCarousel" class="carousel slide carousel-fade mb-5 shadow-sm" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="2"></button>
  </div>

  <div class="carousel-inner">
    <!-- Slide 1 -->
    <div class="carousel-item active" data-bs-interval="5000">
      <img src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" class="d-block w-100 carousel-img" alt="Gestión">
      <div class="carousel-caption d-none d-md-block">
        <h2 class="display-4 fw-bold">Control Total de Inventario</h2>
        <p class="lead">Gestiona tus productos con precisión milimétrica.</p>
        <button class="btn btn-primary btn-lg mt-3" routerLink="/productos">Ver Catálogo</button>
      </div>
      <div class="overlay"></div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item" data-bs-interval="5000">
      <img src="https://images.unsplash.com/photo-1553413077-190dd305871c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" class="d-block w-100 carousel-img" alt="Logística">
      <div class="carousel-caption d-none d-md-block">
        <h2 class="display-4 fw-bold">Logística Eficiente</h2>
        <p class="lead">Registra entradas y salidas al instante.</p>
        <button class="btn btn-warning btn-lg mt-3 text-dark fw-bold" routerLink="/movimientos/nuevo">Nuevo Movimiento</button>
      </div>
      <div class="overlay"></div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-item">
      <img src="https://images.unsplash.com/photo-1566576912902-5d63b2782342?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" class="d-block w-100 carousel-img" alt="Reportes">
      <div class="carousel-caption d-none d-md-block">
        <h2 class="display-4 fw-bold">Reportes en Tiempo Real</h2>
        <p class="lead">Visualiza el estado de tu almacén.</p>
      </div>
      <div class="overlay"></div>
    </div>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- 2. TARJETAS MÉTRICAS (Container centrado) -->
<div class="container mb-5 dashboard-metrics">
  <div class="row g-4 text-center">
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100 metric-card azul">
        <div class="card-body">
          <div class="icon-circle mb-3 text-primary bg-light">
            <i class="fa-solid fa-cubes fa-2x"></i>
          </div>
          <h5 class="card-title text-muted">Productos Totales</h5>
          <p class="card-text display-6 fw-bold text-dark">{{ totalProductos() }}</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100 metric-card verde">
        <div class="card-body">
          <div class="icon-circle mb-3 text-success bg-light">
            <i class="fa-solid fa-money-bill-trend-up fa-2x"></i>
          </div>
          <h5 class="card-title text-muted">Valor Inventario</h5>
          <p class="card-text display-6 fw-bold text-dark">{{ valorInventario() | currency }}</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100 metric-card roja">
        <div class="card-body">
          <div class="icon-circle mb-3 text-danger bg-light">
            <i class="fa-solid fa-triangle-exclamation fa-2x"></i>
          </div>
          <h5 class="card-title text-muted">Alertas Activas</h5>
          <p class="card-text display-6 fw-bold text-dark">{{ alertasStock().length }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 3. SECCIÓN PARALLAX -->
<div class="parallax-section mb-5">
  <div class="parallax-overlay">
    <div class="parallax-content text-center text-white">
      <h2 class="mb-3 display-5 fw-bold">Optimiza tu Gestión Hoy</h2>
      <p class="lead mb-4">Mantén el control de tu stock desde cualquier lugar.</p>
      <a routerLink="/movimientos" class="btn btn-outline-light btn-lg rounded-pill px-5">Ver Historial</a>
    </div>
  </div>
</div>

<!-- 4. COMPONENTE DE ALERTAS (Integrado) -->
<div class="container mb-5">
  <div class="card border-0 shadow-sm">
    <div class="card-header bg-white border-bottom-0 pt-4 px-4">
      <h4 class="text-primary fw-bold m-0">Estado del Sistema</h4>
    </div>
    <div class="card-body px-4 pb-4">
      <!-- Pasamos los datos para que funcione como widget aquí -->
      <app-alerta-stock [productosBajos]="alertasStock()"></app-alerta-stock>
    </div>
  </div>
</div>
